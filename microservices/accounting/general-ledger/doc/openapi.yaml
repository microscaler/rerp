openapi: 3.1.0
info:
  title: General Ledger
  version: 1.0.0
  description: Core accounting service managing general ledger and journal entries.
servers:
- url: http://localhost:8001/api/v1/accounting/general-ledger
  description: Local development (direct to service, port from port-registry)
- url: /api/v1/accounting/general-ledger
  description: General Ledger API
tags: []
paths:
  /accounts:
    get:
      operationId: list_accounts
      summary: List accounts
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of accounts
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Account'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation - Large enterprise accounts
                  value:
                    items:
                    - id: a0070e8400-e29b-41d4-a716-446655440000
                      chart_of_account_id: a00c0e8400-e29b-41d4-a716-446655440000
                      code: '1010'
                      name: Cash - Operating Account
                      account_type: ASSET
                      normal_balance: DEBIT
                      currency_code: USD
                      is_active: true
                      is_system_account: false
                      description: Primary operating cash account
                      created_at: '2024-01-15T10:00:00Z'
                      updated_at: '2024-01-15T10:00:00Z'
                    - id: a0071e8400-e29b-41d4-a716-446655440001
                      chart_of_account_id: a00c0e8400-e29b-41d4-a716-446655440000
                      code: '1200'
                      name: Accounts Receivable
                      account_type: ASSET
                      normal_balance: DEBIT
                      currency_code: USD
                      is_active: true
                      is_system_account: false
                      description: Trade receivables from customers
                      created_at: '2024-01-15T10:00:00Z'
                      updated_at: '2024-01-15T10:00:00Z'
                    total: 2
                    page: 1
                    limit: 20
                techStartExample:
                  summary: TechStart Inc - Small business accounts
                  value:
                    items:
                    - id: b0070e8400-e29b-41d4-a716-446655440000
                      chart_of_account_id: b00c0e8400-e29b-41d4-a716-446655440000
                      code: '1000'
                      name: Cash Account
                      account_type: ASSET
                      normal_balance: DEBIT
                      currency_code: USD
                      is_active: true
                      is_system_account: false
                      description: Main cash account
                      created_at: '2024-01-20T09:00:00Z'
                      updated_at: '2024-01-20T09:00:00Z'
                    total: 1
                    page: 1
                    limit: 20
                globalManufacturingExample:
                  summary: Global Manufacturing - Multi-currency accounts
                  value:
                    items:
                    - id: c0070e8400-e29b-41d4-a716-446655440000
                      chart_of_account_id: c00c0e8400-e29b-41d4-a716-446655440000
                      code: '1010'
                      name: Cash - USD Account
                      account_type: ASSET
                      normal_balance: DEBIT
                      currency_code: USD
                      is_active: true
                      is_system_account: false
                      description: US Dollar cash account
                      created_at: '2024-01-25T08:00:00Z'
                      updated_at: '2024-01-25T08:00:00Z'
                    - id: c0071e8400-e29b-41d4-a716-446655440001
                      chart_of_account_id: c00c0e8400-e29b-41d4-a716-446655440000
                      code: '1011'
                      name: Cash - EUR Account
                      account_type: ASSET
                      normal_balance: DEBIT
                      currency_code: EUR
                      is_active: true
                      is_system_account: false
                      description: Euro cash account
                      created_at: '2024-01-25T08:00:00Z'
                      updated_at: '2024-01-25T08:00:00Z'
                    total: 2
                    page: 1
                    limit: 20
    post:
      operationId: create_account
      summary: Create account
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAccountRequest'
            examples:
              acmeCorporationRequest:
                summary: Create account for Acme Corporation
                value:
                  chart_of_account_id: a00c0e8400-e29b-41d4-a716-446655440000
                  code: '1010'
                  name: Cash - Operating Account
                  account_type: ASSET
                  normal_balance: DEBIT
                  currency_code: USD
                  description: Primary operating cash account
                  is_active: true
              techStartRequest:
                summary: Create account for TechStart Inc
                value:
                  chart_of_account_id: b00c0e8400-e29b-41d4-a716-446655440000
                  code: '1000'
                  name: Cash Account
                  account_type: ASSET
                  normal_balance: DEBIT
                  currency_code: USD
                  description: Main cash account
                  is_active: true
              globalManufacturingRequest:
                summary: Create multi-currency account
                value:
                  chart_of_account_id: c00c0e8400-e29b-41d4-a716-446655440000
                  code: '1010'
                  name: Cash - USD Account
                  account_type: ASSET
                  normal_balance: DEBIT
                  currency_code: USD
                  description: US Dollar cash account
                  is_active: true
      responses:
        '201':
          description: Account created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation account created
                  value:
                    id: a0070e8400-e29b-41d4-a716-446655440000
                    chart_of_account_id: a00c0e8400-e29b-41d4-a716-446655440000
                    code: '1010'
                    name: Cash - Operating Account
                    account_type: ASSET
                    normal_balance: DEBIT
                    currency_code: USD
                    is_active: true
                    is_system_account: false
                    description: Primary operating cash account
                    created_at: '2024-01-15T10:00:00Z'
                    updated_at: '2024-01-15T10:00:00Z'
                techStartResponse:
                  summary: TechStart account created
                  value:
                    id: b0070e8400-e29b-41d4-a716-446655440000
                    chart_of_account_id: b00c0e8400-e29b-41d4-a716-446655440000
                    code: '1000'
                    name: Cash Account
                    account_type: ASSET
                    normal_balance: DEBIT
                    currency_code: USD
                    is_active: true
                    is_system_account: false
                    description: Main cash account
                    created_at: '2024-01-20T09:00:00Z'
                    updated_at: '2024-01-20T09:00:00Z'
                globalManufacturingResponse:
                  summary: Global Manufacturing account created
                  value:
                    id: c0070e8400-e29b-41d4-a716-446655440000
                    chart_of_account_id: c00c0e8400-e29b-41d4-a716-446655440000
                    code: '1010'
                    name: Cash - USD Account
                    account_type: ASSET
                    normal_balance: DEBIT
                    currency_code: USD
                    is_active: true
                    is_system_account: false
                    description: US Dollar cash account
                    created_at: '2024-01-25T08:00:00Z'
                    updated_at: '2024-01-25T08:00:00Z'
        '400':
          description: Invalid request
  /accounts/{id}:
    get:
      operationId: get_account
      summary: Get account by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Account details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation account
                  value:
                    id: a0070e8400-e29b-41d4-a716-446655440000
                    chart_of_account_id: a00c0e8400-e29b-41d4-a716-446655440000
                    code: '1010'
                    name: Cash - Operating Account
                    account_type: ASSET
                    normal_balance: DEBIT
                    currency_code: USD
                    is_active: true
                    is_system_account: false
                    description: Primary operating cash account
                    created_at: '2024-01-15T10:00:00Z'
                    updated_at: '2024-01-15T10:00:00Z'
                techStartExample:
                  summary: TechStart account
                  value:
                    id: b0070e8400-e29b-41d4-a716-446655440000
                    chart_of_account_id: b00c0e8400-e29b-41d4-a716-446655440000
                    code: '1000'
                    name: Cash Account
                    account_type: ASSET
                    normal_balance: DEBIT
                    currency_code: USD
                    is_active: true
                    is_system_account: false
                    description: Main cash account
                    created_at: '2024-01-20T09:00:00Z'
                    updated_at: '2024-01-20T09:00:00Z'
                globalManufacturingExample:
                  summary: Global Manufacturing account
                  value:
                    id: c0070e8400-e29b-41d4-a716-446655440000
                    chart_of_account_id: c00c0e8400-e29b-41d4-a716-446655440000
                    code: '1010'
                    name: Cash - USD Account
                    account_type: ASSET
                    normal_balance: DEBIT
                    currency_code: USD
                    is_active: true
                    is_system_account: false
                    description: US Dollar cash account
                    created_at: '2024-01-25T08:00:00Z'
                    updated_at: '2024-01-25T08:00:00Z'
        '404':
          description: Not found
    put:
      operationId: update_account
      summary: Update account
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAccountRequest'
            examples:
              acmeCorporationUpdate:
                summary: Update Acme Corporation account
                value:
                  name: Cash - Operating Account (Updated)
                  description: Updated description
                  is_active: true
              techStartUpdate:
                summary: Update TechStart account
                value:
                  name: Cash Account (Updated)
                  description: Updated description
                  is_active: true
              globalManufacturingUpdate:
                summary: Update Global Manufacturing account
                value:
                  name: Cash - USD Account (Updated)
                  description: Updated description
                  is_active: true
      responses:
        '200':
          description: Account updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation account updated
                  value:
                    id: a0070e8400-e29b-41d4-a716-446655440000
                    chart_of_account_id: a00c0e8400-e29b-41d4-a716-446655440000
                    code: '1010'
                    name: Cash - Operating Account (Updated)
                    account_type: ASSET
                    normal_balance: DEBIT
                    currency_code: USD
                    is_active: true
                    is_system_account: false
                    description: Updated description
                    created_at: '2024-01-15T10:00:00Z'
                    updated_at: '2024-01-15T11:00:00Z'
                techStartResponse:
                  summary: TechStart account updated
                  value:
                    id: b0070e8400-e29b-41d4-a716-446655440000
                    chart_of_account_id: b00c0e8400-e29b-41d4-a716-446655440000
                    code: '1000'
                    name: Cash Account (Updated)
                    account_type: ASSET
                    normal_balance: DEBIT
                    currency_code: USD
                    is_active: true
                    is_system_account: false
                    description: Updated description
                    created_at: '2024-01-20T09:00:00Z'
                    updated_at: '2024-01-20T10:00:00Z'
                globalManufacturingResponse:
                  summary: Global Manufacturing account updated
                  value:
                    id: c0070e8400-e29b-41d4-a716-446655440000
                    chart_of_account_id: c00c0e8400-e29b-41d4-a716-446655440000
                    code: '1010'
                    name: Cash - USD Account (Updated)
                    account_type: ASSET
                    normal_balance: DEBIT
                    currency_code: USD
                    is_active: true
                    is_system_account: false
                    description: Updated description
                    created_at: '2024-01-25T08:00:00Z'
                    updated_at: '2024-01-25T09:00:00Z'
        '404':
          description: Not found
    delete:
      operationId: delete_account
      summary: Delete account
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Account deleted
        '404':
          description: Not found
  /journal-entrys:
    get:
      operationId: list_journal_entrys
      summary: List journal-entrys
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of journal-entrys
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/JournalEntry'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation - Large enterprise journal entries
                  value:
                    items:
                    - id: a0080e8400-e29b-41d4-a716-446655440000
                      entry_number: JE-2024-001
                      entry_date: '2024-01-15'
                      description: Monthly accrual entry
                      status: POSTED
                      total_debit: 5000.0
                      total_credit: 5000.0
                      currency_code: USD
                      exchange_rate: 1.0
                      company_id: 550e8400-e29b-41d4-a716-446655440000
                      source_type: MANUAL
                      posted_at: '2024-01-15T10:00:00Z'
                      created_at: '2024-01-15T09:00:00Z'
                      updated_at: '2024-01-15T10:00:00Z'
                    - id: a0081e8400-e29b-41d4-a716-446655440001
                      entry_number: JE-2024-002
                      entry_date: '2024-01-16'
                      description: Invoice posting entry
                      status: POSTED
                      total_debit: 1200.0
                      total_credit: 1200.0
                      currency_code: USD
                      exchange_rate: 1.0
                      company_id: 550e8400-e29b-41d4-a716-446655440000
                      source_type: INVOICE
                      source_id: a0010e8400-e29b-41d4-a716-446655440000
                      posted_at: '2024-01-16T11:00:00Z'
                      created_at: '2024-01-16T10:00:00Z'
                      updated_at: '2024-01-16T11:00:00Z'
                    total: 2
                    page: 1
                    limit: 20
                techStartExample:
                  summary: TechStart Inc - Small business journal entries
                  value:
                    items:
                    - id: b0080e8400-e29b-41d4-a716-446655440000
                      entry_number: JE-2024-100
                      entry_date: '2024-01-20'
                      description: Monthly adjustment
                      status: DRAFT
                      total_debit: 500.0
                      total_credit: 500.0
                      currency_code: USD
                      exchange_rate: 1.0
                      company_id: 660e8400-e29b-41d4-a716-446655440001
                      source_type: MANUAL
                      created_at: '2024-01-20T09:00:00Z'
                      updated_at: '2024-01-20T09:00:00Z'
                    total: 1
                    page: 1
                    limit: 20
                globalManufacturingExample:
                  summary: Global Manufacturing - Multi-currency journal entries
                  value:
                    items:
                    - id: c0080e8400-e29b-41d4-a716-446655440000
                      entry_number: JE-2024-200
                      entry_date: '2024-01-25'
                      description: Multi-currency invoice entry
                      status: POSTED
                      total_debit: 10000.0
                      total_credit: 10000.0
                      currency_code: EUR
                      exchange_rate: 0.92
                      company_id: 770e8400-e29b-41d4-a716-446655440002
                      source_type: INVOICE
                      posted_at: '2024-01-25T08:00:00Z'
                      created_at: '2024-01-25T07:00:00Z'
                      updated_at: '2024-01-25T08:00:00Z'
                    total: 1
                    page: 1
                    limit: 20
    post:
      operationId: create_journal_entry
      summary: Create journal-entry
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateJournalEntryRequest'
            examples:
              acmeCorporationRequest:
                summary: Create journal entry for Acme Corporation
                value:
                  entry_number: JE-2024-001
                  entry_date: '2024-01-15'
                  description: Monthly accrual entry
                  currency_code: USD
                  exchange_rate: 1.0
                  company_id: 550e8400-e29b-41d4-a716-446655440000
                  source_type: MANUAL
              techStartRequest:
                summary: Create journal entry for TechStart Inc
                value:
                  entry_number: JE-2024-100
                  entry_date: '2024-01-20'
                  description: Monthly adjustment
                  currency_code: USD
                  exchange_rate: 1.0
                  company_id: 660e8400-e29b-41d4-a716-446655440001
                  source_type: MANUAL
              globalManufacturingRequest:
                summary: Create multi-currency journal entry
                value:
                  entry_number: JE-2024-200
                  entry_date: '2024-01-25'
                  description: Multi-currency invoice entry
                  currency_code: EUR
                  exchange_rate: 0.92
                  company_id: 770e8400-e29b-41d4-a716-446655440002
                  source_type: INVOICE
      responses:
        '201':
          description: JournalEntry created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JournalEntry'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation journal entry created
                  value:
                    id: a0080e8400-e29b-41d4-a716-446655440000
                    entry_number: JE-2024-001
                    entry_date: '2024-01-15'
                    description: Monthly accrual entry
                    status: DRAFT
                    total_debit: 0.0
                    total_credit: 0.0
                    currency_code: USD
                    exchange_rate: 1.0
                    company_id: 550e8400-e29b-41d4-a716-446655440000
                    source_type: MANUAL
                    created_at: '2024-01-15T09:00:00Z'
                    updated_at: '2024-01-15T09:00:00Z'
                techStartResponse:
                  summary: TechStart journal entry created
                  value:
                    id: b0080e8400-e29b-41d4-a716-446655440000
                    entry_number: JE-2024-100
                    entry_date: '2024-01-20'
                    description: Monthly adjustment
                    status: DRAFT
                    total_debit: 0.0
                    total_credit: 0.0
                    currency_code: USD
                    exchange_rate: 1.0
                    company_id: 660e8400-e29b-41d4-a716-446655440001
                    source_type: MANUAL
                    created_at: '2024-01-20T09:00:00Z'
                    updated_at: '2024-01-20T09:00:00Z'
                globalManufacturingResponse:
                  summary: Global Manufacturing journal entry created
                  value:
                    id: c0080e8400-e29b-41d4-a716-446655440000
                    entry_number: JE-2024-200
                    entry_date: '2024-01-25'
                    description: Multi-currency invoice entry
                    status: DRAFT
                    total_debit: 0.0
                    total_credit: 0.0
                    currency_code: EUR
                    exchange_rate: 0.92
                    company_id: 770e8400-e29b-41d4-a716-446655440002
                    source_type: INVOICE
                    created_at: '2024-01-25T07:00:00Z'
                    updated_at: '2024-01-25T07:00:00Z'
        '400':
          description: Invalid request
  /journal-entrys/{id}:
    get:
      operationId: get_journal_entry
      summary: Get journal-entry by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: JournalEntry details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JournalEntry'
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation journal entry
                  value:
                    id: a0080e8400-e29b-41d4-a716-446655440000
                    entry_number: JE-2024-001
                    entry_date: '2024-01-15'
                    description: Monthly accrual entry
                    status: POSTED
                    total_debit: 5000.0
                    total_credit: 5000.0
                    currency_code: USD
                    exchange_rate: 1.0
                    company_id: 550e8400-e29b-41d4-a716-446655440000
                    source_type: MANUAL
                    posted_at: '2024-01-15T10:00:00Z'
                    created_at: '2024-01-15T09:00:00Z'
                    updated_at: '2024-01-15T10:00:00Z'
                techStartExample:
                  summary: TechStart journal entry
                  value:
                    id: b0080e8400-e29b-41d4-a716-446655440000
                    entry_number: JE-2024-100
                    entry_date: '2024-01-20'
                    description: Monthly adjustment
                    status: DRAFT
                    total_debit: 500.0
                    total_credit: 500.0
                    currency_code: USD
                    exchange_rate: 1.0
                    company_id: 660e8400-e29b-41d4-a716-446655440001
                    source_type: MANUAL
                    created_at: '2024-01-20T09:00:00Z'
                    updated_at: '2024-01-20T09:00:00Z'
                globalManufacturingExample:
                  summary: Global Manufacturing journal entry
                  value:
                    id: c0080e8400-e29b-41d4-a716-446655440000
                    entry_number: JE-2024-200
                    entry_date: '2024-01-25'
                    description: Multi-currency invoice entry
                    status: POSTED
                    total_debit: 10000.0
                    total_credit: 10000.0
                    currency_code: EUR
                    exchange_rate: 0.92
                    company_id: 770e8400-e29b-41d4-a716-446655440002
                    source_type: INVOICE
                    posted_at: '2024-01-25T08:00:00Z'
                    created_at: '2024-01-25T07:00:00Z'
                    updated_at: '2024-01-25T08:00:00Z'
        '404':
          description: Not found
    put:
      operationId: update_journal_entry
      summary: Update journal-entry
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateJournalEntryRequest'
            examples:
              acmeCorporationUpdate:
                summary: Update Acme Corporation journal entry
                value:
                  description: Monthly accrual entry (Updated)
                  status: POSTED
                  posted_at: '2024-01-15T10:00:00Z'
              techStartUpdate:
                summary: Update TechStart journal entry
                value:
                  description: Monthly adjustment (Updated)
                  status: POSTED
                  posted_at: '2024-01-20T10:00:00Z'
              globalManufacturingUpdate:
                summary: Update Global Manufacturing journal entry
                value:
                  description: Multi-currency invoice entry (Updated)
                  status: POSTED
                  posted_at: '2024-01-25T09:00:00Z'
      responses:
        '200':
          description: JournalEntry updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JournalEntry'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation journal entry updated
                  value:
                    id: a0080e8400-e29b-41d4-a716-446655440000
                    entry_number: JE-2024-001
                    entry_date: '2024-01-15'
                    description: Monthly accrual entry (Updated)
                    status: POSTED
                    total_debit: 5000.0
                    total_credit: 5000.0
                    currency_code: USD
                    exchange_rate: 1.0
                    company_id: 550e8400-e29b-41d4-a716-446655440000
                    source_type: MANUAL
                    posted_at: '2024-01-15T10:00:00Z'
                    created_at: '2024-01-15T09:00:00Z'
                    updated_at: '2024-01-15T11:00:00Z'
                techStartResponse:
                  summary: TechStart journal entry updated
                  value:
                    id: b0080e8400-e29b-41d4-a716-446655440000
                    entry_number: JE-2024-100
                    entry_date: '2024-01-20'
                    description: Monthly adjustment (Updated)
                    status: POSTED
                    total_debit: 500.0
                    total_credit: 500.0
                    currency_code: USD
                    exchange_rate: 1.0
                    company_id: 660e8400-e29b-41d4-a716-446655440001
                    source_type: MANUAL
                    posted_at: '2024-01-20T10:00:00Z'
                    created_at: '2024-01-20T09:00:00Z'
                    updated_at: '2024-01-20T11:00:00Z'
                globalManufacturingResponse:
                  summary: Global Manufacturing journal entry updated
                  value:
                    id: c0080e8400-e29b-41d4-a716-446655440000
                    entry_number: JE-2024-200
                    entry_date: '2024-01-25'
                    description: Multi-currency invoice entry (Updated)
                    status: POSTED
                    total_debit: 10000.0
                    total_credit: 10000.0
                    currency_code: EUR
                    exchange_rate: 0.92
                    company_id: 770e8400-e29b-41d4-a716-446655440002
                    source_type: INVOICE
                    posted_at: '2024-01-25T09:00:00Z'
                    created_at: '2024-01-25T07:00:00Z'
                    updated_at: '2024-01-25T10:00:00Z'
        '404':
          description: Not found
    delete:
      operationId: delete_journal_entry
      summary: Delete journal-entry
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: JournalEntry deleted
        '404':
          description: Not found
  /chart-of-accounts:
    get:
      operationId: list_chart_of_accounts
      summary: List chart-of-accounts
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of chart-of-accounts
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/ChartOfAccount'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation - Large enterprise chart of accounts
                  value:
                    items:
                    - id: a00c0e8400-e29b-41d4-a716-446655440000
                      code: '1'
                      name: Assets
                      account_type: ASSET
                      level: 0
                      is_active: true
                      description: Root asset account
                      created_at: '2024-01-15T10:00:00Z'
                      updated_at: '2024-01-15T10:00:00Z'
                    - id: a00c1e8400-e29b-41d4-a716-446655440001
                      code: '2'
                      name: Liabilities
                      account_type: LIABILITY
                      level: 0
                      is_active: true
                      description: Root liability account
                      created_at: '2024-01-15T10:00:00Z'
                      updated_at: '2024-01-15T10:00:00Z'
                    total: 2
                    page: 1
                    limit: 20
                techStartExample:
                  summary: TechStart Inc - Small business chart of accounts
                  value:
                    items:
                    - id: b00c0e8400-e29b-41d4-a716-446655440000
                      code: '1'
                      name: Assets
                      account_type: ASSET
                      level: 0
                      is_active: true
                      description: Root asset account
                      created_at: '2024-01-20T09:00:00Z'
                      updated_at: '2024-01-20T09:00:00Z'
                    total: 1
                    page: 1
                    limit: 20
                globalManufacturingExample:
                  summary: Global Manufacturing - Multi-currency chart of accounts
                  value:
                    items:
                    - id: c00c0e8400-e29b-41d4-a716-446655440000
                      code: '1'
                      name: Assets
                      account_type: ASSET
                      level: 0
                      is_active: true
                      description: Root asset account
                      created_at: '2024-01-25T08:00:00Z'
                      updated_at: '2024-01-25T08:00:00Z'
                    - id: c00c3e8400-e29b-41d4-a716-446655440003
                      code: '1.1'
                      name: Multi-Currency Assets
                      account_type: ASSET
                      level: 1
                      parent_id: c00c0e8400-e29b-41d4-a716-446655440000
                      is_active: true
                      description: Multi-currency asset sub-account
                      created_at: '2024-01-25T08:00:00Z'
                      updated_at: '2024-01-25T08:00:00Z'
                    total: 2
                    page: 1
                    limit: 20
    post:
      operationId: create_chart_of_account
      summary: Create chart-of-account
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateChartOfAccountRequest'
            examples:
              acmeCorporationRequest:
                summary: Create chart of account for Acme Corporation
                value:
                  code: '1'
                  name: Assets
                  account_type: ASSET
                  description: Root asset account
                  is_active: true
              techStartRequest:
                summary: Create chart of account for TechStart Inc
                value:
                  code: '1'
                  name: Assets
                  account_type: ASSET
                  description: Root asset account
                  is_active: true
              globalManufacturingRequest:
                summary: Create multi-currency chart of account
                value:
                  code: '1.1'
                  name: Multi-Currency Assets
                  account_type: ASSET
                  parent_id: c00c0e8400-e29b-41d4-a716-446655440000
                  description: Multi-currency asset sub-account
                  is_active: true
      responses:
        '201':
          description: ChartOfAccount created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChartOfAccount'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation chart of account created
                  value:
                    id: a00c0e8400-e29b-41d4-a716-446655440000
                    code: '1'
                    name: Assets
                    account_type: ASSET
                    level: 0
                    is_active: true
                    description: Root asset account
                    created_at: '2024-01-15T10:00:00Z'
                    updated_at: '2024-01-15T10:00:00Z'
                techStartResponse:
                  summary: TechStart chart of account created
                  value:
                    id: b00c0e8400-e29b-41d4-a716-446655440000
                    code: '1'
                    name: Assets
                    account_type: ASSET
                    level: 0
                    is_active: true
                    description: Root asset account
                    created_at: '2024-01-20T09:00:00Z'
                    updated_at: '2024-01-20T09:00:00Z'
                globalManufacturingResponse:
                  summary: Global Manufacturing chart of account created
                  value:
                    id: c00c3e8400-e29b-41d4-a716-446655440003
                    code: '1.1'
                    name: Multi-Currency Assets
                    account_type: ASSET
                    level: 1
                    parent_id: c00c0e8400-e29b-41d4-a716-446655440000
                    is_active: true
                    description: Multi-currency asset sub-account
                    created_at: '2024-01-25T08:00:00Z'
                    updated_at: '2024-01-25T08:00:00Z'
        '400':
          description: Invalid request
  /chart-of-accounts/{id}:
    get:
      operationId: get_chart_of_account
      summary: Get chart-of-account by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: ChartOfAccount details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChartOfAccount'
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation chart of account
                  value:
                    id: a00c0e8400-e29b-41d4-a716-446655440000
                    code: '1'
                    name: Assets
                    account_type: ASSET
                    level: 0
                    is_active: true
                    description: Root asset account
                    created_at: '2024-01-15T10:00:00Z'
                    updated_at: '2024-01-15T10:00:00Z'
                techStartExample:
                  summary: TechStart chart of account
                  value:
                    id: b00c0e8400-e29b-41d4-a716-446655440000
                    code: '1'
                    name: Assets
                    account_type: ASSET
                    level: 0
                    is_active: true
                    description: Root asset account
                    created_at: '2024-01-20T09:00:00Z'
                    updated_at: '2024-01-20T09:00:00Z'
                globalManufacturingExample:
                  summary: Global Manufacturing chart of account
                  value:
                    id: c00c0e8400-e29b-41d4-a716-446655440000
                    code: '1'
                    name: Assets
                    account_type: ASSET
                    level: 0
                    is_active: true
                    description: Root asset account
                    created_at: '2024-01-25T08:00:00Z'
                    updated_at: '2024-01-25T08:00:00Z'
        '404':
          description: Not found
    put:
      operationId: update_chart_of_account
      summary: Update chart-of-account
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateChartOfAccountRequest'
            examples:
              acmeCorporationUpdate:
                summary: Update Acme Corporation chart of account
                value:
                  name: Assets (Updated)
                  description: Updated description
                  is_active: true
              techStartUpdate:
                summary: Update TechStart chart of account
                value:
                  name: Assets (Updated)
                  description: Updated description
                  is_active: true
              globalManufacturingUpdate:
                summary: Update Global Manufacturing chart of account
                value:
                  name: Assets (Updated)
                  description: Updated description
                  is_active: true
      responses:
        '200':
          description: ChartOfAccount updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChartOfAccount'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation chart of account updated
                  value:
                    id: a00c0e8400-e29b-41d4-a716-446655440000
                    code: '1'
                    name: Assets (Updated)
                    account_type: ASSET
                    level: 0
                    is_active: true
                    description: Updated description
                    created_at: '2024-01-15T10:00:00Z'
                    updated_at: '2024-01-15T11:00:00Z'
                techStartResponse:
                  summary: TechStart chart of account updated
                  value:
                    id: b00c0e8400-e29b-41d4-a716-446655440000
                    code: '1'
                    name: Assets (Updated)
                    account_type: ASSET
                    level: 0
                    is_active: true
                    description: Updated description
                    created_at: '2024-01-20T09:00:00Z'
                    updated_at: '2024-01-20T10:00:00Z'
                globalManufacturingResponse:
                  summary: Global Manufacturing chart of account updated
                  value:
                    id: c00c0e8400-e29b-41d4-a716-446655440000
                    code: '1'
                    name: Assets (Updated)
                    account_type: ASSET
                    level: 0
                    is_active: true
                    description: Updated description
                    created_at: '2024-01-25T08:00:00Z'
                    updated_at: '2024-01-25T09:00:00Z'
        '404':
          description: Not found
    delete:
      operationId: delete_chart_of_account
      summary: Delete chart-of-account
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: ChartOfAccount deleted
        '404':
          description: Not found
components:
  parameters:
    Page:
      name: page
      in: query
      schema:
        type: integer
        minimum: 1
        default: 1
    Limit:
      name: limit
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
    Search:
      name: search
      in: query
      schema:
        type: string
  schemas:
    Account:
      type: object
      required:
      - id
      - chart_of_account_id
      - code
      - name
      - account_type
      - normal_balance
      - currency_code
      - is_active
      - is_system_account
      properties:
        id:
          type: string
          format: uuid
        chart_of_account_id:
          type: string
          format: uuid
        code:
          type: string
          maxLength: 50
        name:
          type: string
          maxLength: 255
        account_type:
          type: string
          enum:
          - ASSET
          - LIABILITY
          - EQUITY
          - REVENUE
          - EXPENSE
        normal_balance:
          type: string
          enum:
          - DEBIT
          - CREDIT
        currency_code:
          type: string
          minLength: 3
          maxLength: 3
        is_active:
          type: boolean
        is_system_account:
          type: boolean
        description:
          type: string
          nullable: true
        metadata:
          type: object
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    JournalEntry:
      type: object
      required:
      - id
      - entry_number
      - entry_date
      - description
      - status
      - total_debit
      - total_credit
      - currency_code
      properties:
        id:
          type: string
          format: uuid
        entry_number:
          type: string
          maxLength: 50
        entry_date:
          type: string
          format: date
        description:
          type: string
        reference_number:
          type: string
          maxLength: 100
          nullable: true
        source_type:
          type: string
          enum:
          - MANUAL
          - INVOICE
          - PAYMENT
          - ADJUSTMENT
          - RECURRING
          - REVERSAL
          nullable: true
        source_id:
          type: string
          format: uuid
          nullable: true
        fiscal_period_id:
          type: string
          format: uuid
          nullable: true
        status:
          type: string
          enum:
          - DRAFT
          - POSTED
          - REVERSED
        posted_at:
          type: string
          format: date-time
          nullable: true
        posted_by:
          type: string
          format: uuid
          nullable: true
        total_debit:
          type: number
          format: decimal
        total_credit:
          type: number
          format: decimal
        currency_code:
          type: string
          minLength: 3
          maxLength: 3
        exchange_rate:
          type: number
          format: decimal
        company_id:
          type: string
          format: uuid
          nullable: true
        metadata:
          type: object
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        created_by:
          type: string
          format: uuid
          nullable: true
        updated_by:
          type: string
          format: uuid
          nullable: true
    ChartOfAccount:
      type: object
      required:
      - id
      - code
      - name
      - account_type
      - level
      - is_active
      properties:
        id:
          type: string
          format: uuid
        code:
          type: string
          maxLength: 50
        name:
          type: string
          maxLength: 255
        account_type:
          type: string
          enum:
          - ASSET
          - LIABILITY
          - EQUITY
          - REVENUE
          - EXPENSE
        parent_id:
          type: string
          format: uuid
          nullable: true
        level:
          type: integer
        is_active:
          type: boolean
        description:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    CreateAccountRequest:
      type: object
      required:
      - chart_of_account_id
      - code
      - name
      - account_type
      - normal_balance
      - currency_code
      properties:
        chart_of_account_id:
          type: string
          format: uuid
        code:
          type: string
          maxLength: 50
        name:
          type: string
          maxLength: 255
        account_type:
          type: string
          enum:
          - ASSET
          - LIABILITY
          - EQUITY
          - REVENUE
          - EXPENSE
        normal_balance:
          type: string
          enum:
          - DEBIT
          - CREDIT
        currency_code:
          type: string
          minLength: 3
          maxLength: 3
        description:
          type: string
        is_active:
          type: boolean
    UpdateAccountRequest:
      type: object
      properties:
        name:
          type: string
          maxLength: 255
        description:
          type: string
        is_active:
          type: boolean
        account_type:
          type: string
          enum:
          - ASSET
          - LIABILITY
          - EQUITY
          - REVENUE
          - EXPENSE
    CreateJournalEntryRequest:
      type: object
      required:
      - entry_number
      - entry_date
      - description
      - currency_code
      properties:
        entry_number:
          type: string
          maxLength: 50
        entry_date:
          type: string
          format: date
        description:
          type: string
        reference_number:
          type: string
          maxLength: 100
        source_type:
          type: string
          enum:
          - MANUAL
          - INVOICE
          - PAYMENT
          - ADJUSTMENT
          - RECURRING
          - REVERSAL
        source_id:
          type: string
          format: uuid
        fiscal_period_id:
          type: string
          format: uuid
        currency_code:
          type: string
          minLength: 3
          maxLength: 3
        exchange_rate:
          type: number
          format: decimal
        company_id:
          type: string
          format: uuid
    UpdateJournalEntryRequest:
      type: object
      properties:
        description:
          type: string
        reference_number:
          type: string
          maxLength: 100
        status:
          type: string
          enum:
          - DRAFT
          - POSTED
          - REVERSED
        posted_at:
          type: string
          format: date-time
    CreateChartOfAccountRequest:
      type: object
      required:
      - code
      - name
      - account_type
      properties:
        code:
          type: string
          maxLength: 50
        name:
          type: string
          maxLength: 255
        account_type:
          type: string
          enum:
          - ASSET
          - LIABILITY
          - EQUITY
          - REVENUE
          - EXPENSE
        parent_id:
          type: string
          format: uuid
        description:
          type: string
        is_active:
          type: boolean
    UpdateChartOfAccountRequest:
      type: object
      properties:
        name:
          type: string
          maxLength: 255
        description:
          type: string
        is_active:
          type: boolean
        account_type:
          type: string
          enum:
          - ASSET
          - LIABILITY
          - EQUITY
          - REVENUE
          - EXPENSE
