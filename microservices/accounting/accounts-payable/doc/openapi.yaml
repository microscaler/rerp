openapi: 3.1.0
info:
  title: Accounts Payable
  version: 1.0.0
  description: Accounts payable service managing vendor invoices and payments.
servers:
- url: /api/v1/accounting/accounts-payable
  description: Accounts Payable API
tags: []
paths:
  /vendor-invoices:
    get:
      operationId: list_vendor_invoices
      summary: List vendor-invoices
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of vendor-invoices
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/VendorInvoice'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation - Vendor invoices
                  value:
                    items:
                      - id: "a0050e8400-e29b-41d4-a716-446655440000"
                        invoice_id: "a0011e8400-e29b-41d4-a716-446655440001"
                        vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                        original_amount: 15000.00
                        outstanding_amount: 15000.00
                        currency_code: "USD"
                        status: "OUTSTANDING"
                        aging_bucket: "CURRENT"
                        company_id: "550e8400-e29b-41d4-a716-446655440000"
                        created_at: "2024-01-15T09:00:00Z"
                        updated_at: "2024-01-15T09:00:00Z"
                    total: 1
                    page: 1
                    limit: 20
                techStartExample:
                  summary: TechStart Inc - Vendor invoices
                  value:
                    items:
                      - id: "b0050e8400-e29b-41d4-a716-446655440000"
                        invoice_id: "b0011e8400-e29b-41d4-a716-446655440001"
                        vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                        original_amount: 800.00
                        outstanding_amount: 800.00
                        currency_code: "USD"
                        status: "OUTSTANDING"
                        aging_bucket: "CURRENT"
                        company_id: "660e8400-e29b-41d4-a716-446655440001"
                        created_at: "2024-01-20T09:00:00Z"
                        updated_at: "2024-01-20T09:00:00Z"
                    total: 1
                    page: 1
                    limit: 20
                globalManufacturingExample:
                  summary: Global Manufacturing - Multi-currency vendor invoices
                  value:
                    items:
                      - id: "c0050e8400-e29b-41d4-a716-446655440000"
                        invoice_id: "c0011e8400-e29b-41d4-a716-446655440001"
                        vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                        original_amount: 15000.00
                        outstanding_amount: 15000.00
                        currency_code: "EUR"
                        status: "OUTSTANDING"
                        aging_bucket: "CURRENT"
                        company_id: "770e8400-e29b-41d4-a716-446655440002"
                        created_at: "2024-01-25T07:00:00Z"
                        updated_at: "2024-01-25T07:00:00Z"
                    total: 1
                    page: 1
                    limit: 20
    post:
      operationId: create_vendor_invoice
      summary: Create vendor-invoice
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVendorInvoiceRequest'
            examples:
              acmeCorporationRequest:
                summary: Create vendor invoice for Acme Corporation
                value:
                  invoice_id: "a0011e8400-e29b-41d4-a716-446655440001"
                  vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                  currency_code: "USD"
                  company_id: "550e8400-e29b-41d4-a716-446655440000"
              techStartRequest:
                summary: Create vendor invoice for TechStart Inc
                value:
                  invoice_id: "b0011e8400-e29b-41d4-a716-446655440001"
                  vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                  currency_code: "USD"
                  company_id: "660e8400-e29b-41d4-a716-446655440001"
              globalManufacturingRequest:
                summary: Create multi-currency vendor invoice
                value:
                  invoice_id: "c0011e8400-e29b-41d4-a716-446655440001"
                  vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                  currency_code: "EUR"
                  company_id: "770e8400-e29b-41d4-a716-446655440002"
      responses:
        '201':
          description: VendorInvoice created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VendorInvoice'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation vendor invoice created
                  value:
                    id: "a0050e8400-e29b-41d4-a716-446655440000"
                    invoice_id: "a0011e8400-e29b-41d4-a716-446655440001"
                    vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                    original_amount: 0.00
                    outstanding_amount: 0.00
                    currency_code: "USD"
                    status: "OUTSTANDING"
                    company_id: "550e8400-e29b-41d4-a716-446655440000"
                    created_at: "2024-01-15T09:00:00Z"
                    updated_at: "2024-01-15T09:00:00Z"
                techStartResponse:
                  summary: TechStart vendor invoice created
                  value:
                    id: "b0050e8400-e29b-41d4-a716-446655440000"
                    invoice_id: "b0011e8400-e29b-41d4-a716-446655440001"
                    vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                    original_amount: 0.00
                    outstanding_amount: 0.00
                    currency_code: "USD"
                    status: "OUTSTANDING"
                    company_id: "660e8400-e29b-41d4-a716-446655440001"
                    created_at: "2024-01-20T09:00:00Z"
                    updated_at: "2024-01-20T09:00:00Z"
                globalManufacturingResponse:
                  summary: Global Manufacturing vendor invoice created
                  value:
                    id: "c0050e8400-e29b-41d4-a716-446655440000"
                    invoice_id: "c0011e8400-e29b-41d4-a716-446655440001"
                    vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                    original_amount: 0.00
                    outstanding_amount: 0.00
                    currency_code: "EUR"
                    status: "OUTSTANDING"
                    company_id: "770e8400-e29b-41d4-a716-446655440002"
                    created_at: "2024-01-25T07:00:00Z"
                    updated_at: "2024-01-25T07:00:00Z"
        '400':
          description: Invalid request
  /vendor-invoices/{id}:
    get:
      operationId: get_vendor_invoice
      summary: Get vendor-invoice by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: VendorInvoice details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VendorInvoice'
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation vendor invoice
                  value:
                    id: "a0050e8400-e29b-41d4-a716-446655440000"
                    invoice_id: "a0011e8400-e29b-41d4-a716-446655440001"
                    vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                    original_amount: 15000.00
                    outstanding_amount: 15000.00
                    currency_code: "USD"
                    status: "OUTSTANDING"
                    aging_bucket: "CURRENT"
                    company_id: "550e8400-e29b-41d4-a716-446655440000"
                    created_at: "2024-01-15T09:00:00Z"
                    updated_at: "2024-01-15T09:00:00Z"
                techStartExample:
                  summary: TechStart vendor invoice
                  value:
                    id: "b0050e8400-e29b-41d4-a716-446655440000"
                    invoice_id: "b0011e8400-e29b-41d4-a716-446655440001"
                    vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                    original_amount: 800.00
                    outstanding_amount: 800.00
                    currency_code: "USD"
                    status: "OUTSTANDING"
                    aging_bucket: "CURRENT"
                    company_id: "660e8400-e29b-41d4-a716-446655440001"
                    created_at: "2024-01-20T09:00:00Z"
                    updated_at: "2024-01-20T09:00:00Z"
                globalManufacturingExample:
                  summary: Global Manufacturing vendor invoice
                  value:
                    id: "c0050e8400-e29b-41d4-a716-446655440000"
                    invoice_id: "c0011e8400-e29b-41d4-a716-446655440001"
                    vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                    original_amount: 15000.00
                    outstanding_amount: 15000.00
                    currency_code: "EUR"
                    status: "OUTSTANDING"
                    aging_bucket: "CURRENT"
                    company_id: "770e8400-e29b-41d4-a716-446655440002"
                    created_at: "2024-01-25T07:00:00Z"
                    updated_at: "2024-01-25T07:00:00Z"
        '404':
          description: Not found
    put:
      operationId: update_vendor_invoice
      summary: Update vendor-invoice
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateVendorInvoiceRequest'
            examples:
              acmeCorporationUpdate:
                summary: Update Acme Corporation vendor invoice
                value:
                  status: "PARTIAL"
                  aging_bucket: "1-30"
              techStartUpdate:
                summary: Update TechStart vendor invoice
                value:
                  status: "PARTIAL"
                  aging_bucket: "1-30"
              globalManufacturingUpdate:
                summary: Update Global Manufacturing vendor invoice
                value:
                  status: "PARTIAL"
                  aging_bucket: "1-30"
      responses:
        '200':
          description: VendorInvoice updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VendorInvoice'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation vendor invoice updated
                  value:
                    id: "a0050e8400-e29b-41d4-a716-446655440000"
                    invoice_id: "a0011e8400-e29b-41d4-a716-446655440001"
                    vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                    original_amount: 15000.00
                    outstanding_amount: 7500.00
                    currency_code: "USD"
                    status: "PARTIAL"
                    aging_bucket: "1-30"
                    company_id: "550e8400-e29b-41d4-a716-446655440000"
                    created_at: "2024-01-15T09:00:00Z"
                    updated_at: "2024-01-15T11:00:00Z"
                techStartResponse:
                  summary: TechStart vendor invoice updated
                  value:
                    id: "b0050e8400-e29b-41d4-a716-446655440000"
                    invoice_id: "b0011e8400-e29b-41d4-a716-446655440001"
                    vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                    original_amount: 800.00
                    outstanding_amount: 400.00
                    currency_code: "USD"
                    status: "PARTIAL"
                    aging_bucket: "1-30"
                    company_id: "660e8400-e29b-41d4-a716-446655440001"
                    created_at: "2024-01-20T09:00:00Z"
                    updated_at: "2024-01-20T10:00:00Z"
                globalManufacturingResponse:
                  summary: Global Manufacturing vendor invoice updated
                  value:
                    id: "c0050e8400-e29b-41d4-a716-446655440000"
                    invoice_id: "c0011e8400-e29b-41d4-a716-446655440001"
                    vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                    original_amount: 15000.00
                    outstanding_amount: 7500.00
                    currency_code: "EUR"
                    status: "PARTIAL"
                    aging_bucket: "1-30"
                    company_id: "770e8400-e29b-41d4-a716-446655440002"
                    created_at: "2024-01-25T07:00:00Z"
                    updated_at: "2024-01-25T09:00:00Z"
        '404':
          description: Not found
    delete:
      operationId: delete_vendor_invoice
      summary: Delete vendor-invoice
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: VendorInvoice deleted
        '404':
          description: Not found
  /payments:
    get:
      operationId: list_payments
      summary: List payments
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of payments
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/ApPayment'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation - AP payments
                  value:
                    items:
                      - id: "a0060e8400-e29b-41d4-a716-446655440000"
                        payment_number: "AP-PAY-2024-001"
                        payment_date: "2024-01-20"
                        vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                        payment_amount: 7500.00
                        currency_code: "USD"
                        exchange_rate: 1.0
                        payment_method: "WIRE"
                        status: "POSTED"
                        company_id: "550e8400-e29b-41d4-a716-446655440000"
                        created_at: "2024-01-20T10:00:00Z"
                        updated_at: "2024-01-20T10:00:00Z"
                    total: 1
                    page: 1
                    limit: 20
                techStartExample:
                  summary: TechStart Inc - AP payments
                  value:
                    items:
                      - id: "b0060e8400-e29b-41d4-a716-446655440000"
                        payment_number: "AP-PAY-2024-100"
                        payment_date: "2024-01-25"
                        vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                        payment_amount: 400.00
                        currency_code: "USD"
                        exchange_rate: 1.0
                        payment_method: "CHECK"
                        status: "POSTED"
                        company_id: "660e8400-e29b-41d4-a716-446655440001"
                        created_at: "2024-01-25T09:00:00Z"
                        updated_at: "2024-01-25T09:00:00Z"
                    total: 1
                    page: 1
                    limit: 20
                globalManufacturingExample:
                  summary: Global Manufacturing - Multi-currency AP payments
                  value:
                    items:
                      - id: "c0060e8400-e29b-41d4-a716-446655440000"
                        payment_number: "AP-PAY-2024-200"
                        payment_date: "2024-01-30"
                        vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                        payment_amount: 7500.00
                        currency_code: "EUR"
                        exchange_rate: 0.92
                        payment_method: "WIRE"
                        status: "POSTED"
                        company_id: "770e8400-e29b-41d4-a716-446655440002"
                        created_at: "2024-01-30T08:00:00Z"
                        updated_at: "2024-01-30T08:00:00Z"
                    total: 1
                    page: 1
                    limit: 20
    post:
      operationId: create_payment
      summary: Create payment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateApPaymentRequest'
            examples:
              acmeCorporationRequest:
                summary: Create AP payment for Acme Corporation
                value:
                  payment_number: "AP-PAY-2024-001"
                  payment_date: "2024-01-20"
                  vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                  payment_amount: 7500.00
                  currency_code: "USD"
                  exchange_rate: 1.0
                  payment_method: "WIRE"
                  company_id: "550e8400-e29b-41d4-a716-446655440000"
              techStartRequest:
                summary: Create AP payment for TechStart Inc
                value:
                  payment_number: "AP-PAY-2024-100"
                  payment_date: "2024-01-25"
                  vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                  payment_amount: 400.00
                  currency_code: "USD"
                  exchange_rate: 1.0
                  payment_method: "CHECK"
                  company_id: "660e8400-e29b-41d4-a716-446655440001"
              globalManufacturingRequest:
                summary: Create multi-currency AP payment
                value:
                  payment_number: "AP-PAY-2024-200"
                  payment_date: "2024-01-30"
                  vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                  payment_amount: 7500.00
                  currency_code: "EUR"
                  exchange_rate: 0.92
                  payment_method: "WIRE"
                  company_id: "770e8400-e29b-41d4-a716-446655440002"
      responses:
        '201':
          description: Payment created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApPayment'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation AP payment created
                  value:
                    id: "a0060e8400-e29b-41d4-a716-446655440000"
                    payment_number: "AP-PAY-2024-001"
                    payment_date: "2024-01-20"
                    vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                    payment_amount: 7500.00
                    currency_code: "USD"
                    exchange_rate: 1.0
                    payment_method: "WIRE"
                    status: "DRAFT"
                    company_id: "550e8400-e29b-41d4-a716-446655440000"
                    created_at: "2024-01-20T10:00:00Z"
                    updated_at: "2024-01-20T10:00:00Z"
                techStartResponse:
                  summary: TechStart AP payment created
                  value:
                    id: "b0060e8400-e29b-41d4-a716-446655440000"
                    payment_number: "AP-PAY-2024-100"
                    payment_date: "2024-01-25"
                    vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                    payment_amount: 400.00
                    currency_code: "USD"
                    exchange_rate: 1.0
                    payment_method: "CHECK"
                    status: "DRAFT"
                    company_id: "660e8400-e29b-41d4-a716-446655440001"
                    created_at: "2024-01-25T09:00:00Z"
                    updated_at: "2024-01-25T09:00:00Z"
                globalManufacturingResponse:
                  summary: Global Manufacturing AP payment created
                  value:
                    id: "c0060e8400-e29b-41d4-a716-446655440000"
                    payment_number: "AP-PAY-2024-200"
                    payment_date: "2024-01-30"
                    vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                    payment_amount: 7500.00
                    currency_code: "EUR"
                    exchange_rate: 0.92
                    payment_method: "WIRE"
                    status: "DRAFT"
                    company_id: "770e8400-e29b-41d4-a716-446655440002"
                    created_at: "2024-01-30T08:00:00Z"
                    updated_at: "2024-01-30T08:00:00Z"
        '400':
          description: Invalid request
  /payments/{id}:
    get:
      operationId: get_payment
      summary: Get payment by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Payment details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApPayment'
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation AP payment
                  value:
                    id: "a0060e8400-e29b-41d4-a716-446655440000"
                    payment_number: "AP-PAY-2024-001"
                    payment_date: "2024-01-20"
                    vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                    payment_amount: 7500.00
                    currency_code: "USD"
                    exchange_rate: 1.0
                    payment_method: "WIRE"
                    status: "POSTED"
                    company_id: "550e8400-e29b-41d4-a716-446655440000"
                    created_at: "2024-01-20T10:00:00Z"
                    updated_at: "2024-01-20T10:00:00Z"
                techStartExample:
                  summary: TechStart AP payment
                  value:
                    id: "b0060e8400-e29b-41d4-a716-446655440000"
                    payment_number: "AP-PAY-2024-100"
                    payment_date: "2024-01-25"
                    vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                    payment_amount: 400.00
                    currency_code: "USD"
                    exchange_rate: 1.0
                    payment_method: "CHECK"
                    status: "POSTED"
                    company_id: "660e8400-e29b-41d4-a716-446655440001"
                    created_at: "2024-01-25T09:00:00Z"
                    updated_at: "2024-01-25T09:00:00Z"
                globalManufacturingExample:
                  summary: Global Manufacturing AP payment
                  value:
                    id: "c0060e8400-e29b-41d4-a716-446655440000"
                    payment_number: "AP-PAY-2024-200"
                    payment_date: "2024-01-30"
                    vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                    payment_amount: 7500.00
                    currency_code: "EUR"
                    exchange_rate: 0.92
                    payment_method: "WIRE"
                    status: "POSTED"
                    company_id: "770e8400-e29b-41d4-a716-446655440002"
                    created_at: "2024-01-30T08:00:00Z"
                    updated_at: "2024-01-30T08:00:00Z"
        '404':
          description: Not found
    put:
      operationId: update_payment
      summary: Update payment
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateApPaymentRequest'
            examples:
              acmeCorporationUpdate:
                summary: Update Acme Corporation AP payment
                value:
                  status: "POSTED"
                  payment_method: "WIRE"
              techStartUpdate:
                summary: Update TechStart AP payment
                value:
                  status: "POSTED"
                  payment_method: "CHECK"
              globalManufacturingUpdate:
                summary: Update Global Manufacturing AP payment
                value:
                  status: "POSTED"
                  payment_method: "WIRE"
      responses:
        '200':
          description: Payment updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApPayment'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation AP payment updated
                  value:
                    id: "a0060e8400-e29b-41d4-a716-446655440000"
                    payment_number: "AP-PAY-2024-001"
                    payment_date: "2024-01-20"
                    vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                    payment_amount: 7500.00
                    currency_code: "USD"
                    exchange_rate: 1.0
                    payment_method: "WIRE"
                    status: "POSTED"
                    company_id: "550e8400-e29b-41d4-a716-446655440000"
                    created_at: "2024-01-20T10:00:00Z"
                    updated_at: "2024-01-20T11:00:00Z"
                techStartResponse:
                  summary: TechStart AP payment updated
                  value:
                    id: "b0060e8400-e29b-41d4-a716-446655440000"
                    payment_number: "AP-PAY-2024-100"
                    payment_date: "2024-01-25"
                    vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                    payment_amount: 400.00
                    currency_code: "USD"
                    exchange_rate: 1.0
                    payment_method: "CHECK"
                    status: "POSTED"
                    company_id: "660e8400-e29b-41d4-a716-446655440001"
                    created_at: "2024-01-25T09:00:00Z"
                    updated_at: "2024-01-25T10:00:00Z"
                globalManufacturingResponse:
                  summary: Global Manufacturing AP payment updated
                  value:
                    id: "c0060e8400-e29b-41d4-a716-446655440000"
                    payment_number: "AP-PAY-2024-200"
                    payment_date: "2024-01-30"
                    vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                    payment_amount: 7500.00
                    currency_code: "EUR"
                    exchange_rate: 0.92
                    payment_method: "WIRE"
                    status: "POSTED"
                    company_id: "770e8400-e29b-41d4-a716-446655440002"
                    created_at: "2024-01-30T08:00:00Z"
                    updated_at: "2024-01-30T09:00:00Z"
        '404':
          description: Not found
    delete:
      operationId: delete_payment
      summary: Delete payment
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Payment deleted
        '404':
          description: Not found
  /ap-agings:
    get:
      operationId: list_ap_agings
      summary: List ap-agings
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of ap-agings
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/ApAging'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation - AP aging analysis
                  value:
                    items:
                      - id: "a00b0e8400-e29b-41d4-a716-446655440000"
                        vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                        aging_date: "2024-01-31"
                        current: 7500.00
                        days_31_60: 0.00
                        days_61_90: 0.00
                        days_91_120: 0.00
                        over_120: 0.00
                        total_outstanding: 7500.00
                        currency_code: "USD"
                        company_id: "550e8400-e29b-41d4-a716-446655440000"
                        created_at: "2024-01-31T10:00:00Z"
                    total: 1
                    page: 1
                    limit: 20
                techStartExample:
                  summary: TechStart Inc - AP aging analysis
                  value:
                    items:
                      - id: "b00b0e8400-e29b-41d4-a716-446655440000"
                        vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                        aging_date: "2024-01-31"
                        current: 400.00
                        days_31_60: 0.00
                        days_61_90: 0.00
                        days_91_120: 0.00
                        over_120: 0.00
                        total_outstanding: 400.00
                        currency_code: "USD"
                        company_id: "660e8400-e29b-41d4-a716-446655440001"
                        created_at: "2024-01-31T09:00:00Z"
                    total: 1
                    page: 1
                    limit: 20
                globalManufacturingExample:
                  summary: Global Manufacturing - Multi-currency AP aging
                  value:
                    items:
                      - id: "c00b0e8400-e29b-41d4-a716-446655440000"
                        vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                        aging_date: "2024-01-31"
                        current: 7500.00
                        days_31_60: 0.00
                        days_61_90: 0.00
                        days_91_120: 0.00
                        over_120: 0.00
                        total_outstanding: 7500.00
                        currency_code: "EUR"
                        company_id: "770e8400-e29b-41d4-a716-446655440002"
                        created_at: "2024-01-31T08:00:00Z"
                    total: 1
                    page: 1
                    limit: 20
    post:
      operationId: create_ap_aging
      summary: Create ap-aging
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateApAgingRequest'
            examples:
              acmeCorporationRequest:
                summary: Create AP aging for Acme Corporation
                value:
                  vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                  aging_date: "2024-01-31"
                  currency_code: "USD"
                  company_id: "550e8400-e29b-41d4-a716-446655440000"
              techStartRequest:
                summary: Create AP aging for TechStart Inc
                value:
                  vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                  aging_date: "2024-01-31"
                  currency_code: "USD"
                  company_id: "660e8400-e29b-41d4-a716-446655440001"
              globalManufacturingRequest:
                summary: Create multi-currency AP aging
                value:
                  vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                  aging_date: "2024-01-31"
                  currency_code: "EUR"
                  company_id: "770e8400-e29b-41d4-a716-446655440002"
      responses:
        '201':
          description: ApAging created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApAging'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation AP aging created
                  value:
                    id: "a00b0e8400-e29b-41d4-a716-446655440000"
                    vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                    aging_date: "2024-01-31"
                    current: 0.00
                    days_31_60: 0.00
                    days_61_90: 0.00
                    days_91_120: 0.00
                    over_120: 0.00
                    total_outstanding: 0.00
                    currency_code: "USD"
                    company_id: "550e8400-e29b-41d4-a716-446655440000"
                    created_at: "2024-01-31T10:00:00Z"
                techStartResponse:
                  summary: TechStart AP aging created
                  value:
                    id: "b00b0e8400-e29b-41d4-a716-446655440000"
                    vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                    aging_date: "2024-01-31"
                    current: 0.00
                    days_31_60: 0.00
                    days_61_90: 0.00
                    days_91_120: 0.00
                    over_120: 0.00
                    total_outstanding: 0.00
                    currency_code: "USD"
                    company_id: "660e8400-e29b-41d4-a716-446655440001"
                    created_at: "2024-01-31T09:00:00Z"
                globalManufacturingResponse:
                  summary: Global Manufacturing AP aging created
                  value:
                    id: "c00b0e8400-e29b-41d4-a716-446655440000"
                    vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                    aging_date: "2024-01-31"
                    current: 0.00
                    days_31_60: 0.00
                    days_61_90: 0.00
                    days_91_120: 0.00
                    over_120: 0.00
                    total_outstanding: 0.00
                    currency_code: "EUR"
                    company_id: "770e8400-e29b-41d4-a716-446655440002"
                    created_at: "2024-01-31T08:00:00Z"
        '400':
          description: Invalid request
  /ap-agings/{id}:
    get:
      operationId: get_ap_aging
      summary: Get ap-aging by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: ApAging details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApAging'
              examples:
                acmeCorporationExample:
                  summary: Acme Corporation AP aging
                  value:
                    id: "a00b0e8400-e29b-41d4-a716-446655440000"
                    vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                    aging_date: "2024-01-31"
                    current: 7500.00
                    days_31_60: 0.00
                    days_61_90: 0.00
                    days_91_120: 0.00
                    over_120: 0.00
                    total_outstanding: 7500.00
                    currency_code: "USD"
                    company_id: "550e8400-e29b-41d4-a716-446655440000"
                    created_at: "2024-01-31T10:00:00Z"
                techStartExample:
                  summary: TechStart AP aging
                  value:
                    id: "b00b0e8400-e29b-41d4-a716-446655440000"
                    vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                    aging_date: "2024-01-31"
                    current: 400.00
                    days_31_60: 0.00
                    days_61_90: 0.00
                    days_91_120: 0.00
                    over_120: 0.00
                    total_outstanding: 400.00
                    currency_code: "USD"
                    company_id: "660e8400-e29b-41d4-a716-446655440001"
                    created_at: "2024-01-31T09:00:00Z"
                globalManufacturingExample:
                  summary: Global Manufacturing AP aging
                  value:
                    id: "c00b0e8400-e29b-41d4-a716-446655440000"
                    vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                    aging_date: "2024-01-31"
                    current: 7500.00
                    days_31_60: 0.00
                    days_61_90: 0.00
                    days_91_120: 0.00
                    over_120: 0.00
                    total_outstanding: 7500.00
                    currency_code: "EUR"
                    company_id: "770e8400-e29b-41d4-a716-446655440002"
                    created_at: "2024-01-31T08:00:00Z"
        '404':
          description: Not found
    put:
      operationId: update_ap_aging
      summary: Update ap-aging
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateApAgingRequest'
            examples:
              acmeCorporationUpdate:
                summary: Update Acme Corporation AP aging
                value:
                  current: 8000.00
                  total_outstanding: 8000.00
              techStartUpdate:
                summary: Update TechStart AP aging
                value:
                  current: 450.00
                  total_outstanding: 450.00
              globalManufacturingUpdate:
                summary: Update Global Manufacturing AP aging
                value:
                  current: 8000.00
                  total_outstanding: 8000.00
      responses:
        '200':
          description: ApAging updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApAging'
              examples:
                acmeCorporationResponse:
                  summary: Acme Corporation AP aging updated
                  value:
                    id: "a00b0e8400-e29b-41d4-a716-446655440000"
                    vendor_id: "411e8400-e29b-41d4-a716-446655440001"
                    aging_date: "2024-01-31"
                    current: 8000.00
                    days_31_60: 0.00
                    days_61_90: 0.00
                    days_91_120: 0.00
                    over_120: 0.00
                    total_outstanding: 8000.00
                    currency_code: "USD"
                    company_id: "550e8400-e29b-41d4-a716-446655440000"
                    created_at: "2024-01-31T10:00:00Z"
                techStartResponse:
                  summary: TechStart AP aging updated
                  value:
                    id: "b00b0e8400-e29b-41d4-a716-446655440000"
                    vendor_id: "422e8400-e29b-41d4-a716-446655440001"
                    aging_date: "2024-01-31"
                    current: 450.00
                    days_31_60: 0.00
                    days_61_90: 0.00
                    days_91_120: 0.00
                    over_120: 0.00
                    total_outstanding: 450.00
                    currency_code: "USD"
                    company_id: "660e8400-e29b-41d4-a716-446655440001"
                    created_at: "2024-01-31T09:00:00Z"
                globalManufacturingResponse:
                  summary: Global Manufacturing AP aging updated
                  value:
                    id: "c00b0e8400-e29b-41d4-a716-446655440000"
                    vendor_id: "433e8400-e29b-41d4-a716-446655440001"
                    aging_date: "2024-01-31"
                    current: 8000.00
                    days_31_60: 0.00
                    days_61_90: 0.00
                    days_91_120: 0.00
                    over_120: 0.00
                    total_outstanding: 8000.00
                    currency_code: "EUR"
                    company_id: "770e8400-e29b-41d4-a716-446655440002"
                    created_at: "2024-01-31T08:00:00Z"
        '404':
          description: Not found
    delete:
      operationId: delete_ap_aging
      summary: Delete ap-aging
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: ApAging deleted
        '404':
          description: Not found
components:
  parameters:
    Page:
      name: page
      in: query
      schema:
        type: integer
        minimum: 1
        default: 1
    Limit:
      name: limit
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
    Search:
      name: search
      in: query
      schema:
        type: string
  schemas:
    VendorInvoice:
      type: object
      required:
        - id
        - invoice_id
        - vendor_id
      properties:
        id:
          type: string
          format: uuid
        invoice_id:
          type: string
          format: uuid
        vendor_id:
          type: string
          format: uuid
        outstanding_amount:
          type: number
          format: decimal
        days_until_due:
          type: integer
        aging_bucket:
          type: string
          enum: [CURRENT, "1-30", "31-60", "61-90", "90+"]
          nullable: true
        purchase_order_id:
          type: string
          format: uuid
          nullable: true
        matching_status:
          type: string
          enum: [NOT_MATCHED, PARTIAL, MATCHED]
          nullable: true
        approval_status:
          type: string
          enum: [PENDING, APPROVED, REJECTED]
          nullable: true
        approved_at:
          type: string
          format: date-time
          nullable: true
        approved_by:
          type: string
          format: uuid
          nullable: true
        early_payment_discount_percent:
          type: number
          format: decimal
          nullable: true
        early_payment_discount_date:
          type: string
          format: date
          nullable: true
        metadata:
          type: object
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    ApPayment:
      type: object
      required:
        - id
        - vendor_id
        - payment_number
        - payment_date
        - payment_amount
        - payment_method
        - status
        - currency_code
      properties:
        id:
          type: string
          format: uuid
        vendor_id:
          type: string
          format: uuid
        payment_number:
          type: string
          maxLength: 100
        payment_date:
          type: string
          format: date
        payment_amount:
          type: number
          format: decimal
        currency_code:
          type: string
          minLength: 3
          maxLength: 3
        payment_method:
          type: string
          enum: [CHECK, WIRE, ACH, CASH, CREDIT_CARD, OTHER]
        payment_reference:
          type: string
          nullable: true
        bank_account_id:
          type: string
          format: uuid
          nullable: true
        status:
          type: string
          enum: [DRAFT, POSTED, RECONCILED, CANCELLED]
        applied_amount:
          type: number
          format: decimal
        company_id:
          type: string
          format: uuid
          nullable: true
        notes:
          type: string
          nullable: true
        metadata:
          type: object
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        created_by:
          type: string
          format: uuid
          nullable: true
        updated_by:
          type: string
          format: uuid
          nullable: true
    ApPaymentApplication:
      type: object
      required:
        - id
        - payment_id
        - invoice_id
        - applied_amount
      properties:
        id:
          type: string
          format: uuid
        payment_id:
          type: string
          format: uuid
        invoice_id:
          type: string
          format: uuid
        applied_amount:
          type: number
          format: decimal
        applied_at:
          type: string
          format: date-time
        applied_by:
          type: string
          format: uuid
          nullable: true
        notes:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    ApAging:
      type: object
      required:
        - id
        - vendor_id
        - aging_date
        - currency_code
      properties:
        id:
          type: string
          format: uuid
        vendor_id:
          type: string
          format: uuid
        aging_date:
          type: string
          format: date
        current:
          type: number
          format: decimal
        days_31_60:
          type: number
          format: decimal
        days_61_90:
          type: number
          format: decimal
        days_91_120:
          type: number
          format: decimal
        over_120:
          type: number
          format: decimal
        total_outstanding:
          type: number
          format: decimal
        currency_code:
          type: string
          minLength: 3
          maxLength: 3
        company_id:
          type: string
          format: uuid
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    CreateVendorInvoiceRequest:
      type: object
      required:
        - invoice_id
        - vendor_id
      properties:
        invoice_id:
          type: string
          format: uuid
        vendor_id:
          type: string
          format: uuid
        purchase_order_id:
          type: string
          format: uuid
        approval_status:
          type: string
          enum: [PENDING, APPROVED, REJECTED]
        early_payment_discount_percent:
          type: number
          format: decimal
        early_payment_discount_date:
          type: string
          format: date
    UpdateVendorInvoiceRequest:
      type: object
      properties:
        outstanding_amount:
          type: number
          format: decimal
        aging_bucket:
          type: string
          enum: [CURRENT, "1-30", "31-60", "61-90", "90+"]
        matching_status:
          type: string
          enum: [NOT_MATCHED, PARTIAL, MATCHED]
        approval_status:
          type: string
          enum: [PENDING, APPROVED, REJECTED]
    CreateApPaymentRequest:
      type: object
      required:
        - vendor_id
        - payment_number
        - payment_date
        - payment_amount
        - payment_method
        - currency_code
      properties:
        vendor_id:
          type: string
          format: uuid
        payment_number:
          type: string
          maxLength: 100
        payment_date:
          type: string
          format: date
        payment_amount:
          type: number
          format: decimal
        currency_code:
          type: string
          minLength: 3
          maxLength: 3
        payment_method:
          type: string
          enum: [CHECK, WIRE, ACH, CASH, CREDIT_CARD, OTHER]
        payment_reference:
          type: string
        bank_account_id:
          type: string
          format: uuid
        notes:
          type: string
        company_id:
          type: string
          format: uuid
    UpdateApPaymentRequest:
      type: object
      properties:
        payment_date:
          type: string
          format: date
        payment_amount:
          type: number
          format: decimal
        payment_method:
          type: string
          enum: [CHECK, WIRE, ACH, CASH, CREDIT_CARD, OTHER]
        status:
          type: string
          enum: [DRAFT, POSTED, RECONCILED, CANCELLED]
        notes:
          type: string
    CreateApPaymentApplicationRequest:
      type: object
      required:
        - payment_id
        - invoice_id
        - applied_amount
      properties:
        payment_id:
          type: string
          format: uuid
        invoice_id:
          type: string
          format: uuid
        applied_amount:
          type: number
          format: decimal
        notes:
          type: string
    UpdateApPaymentApplicationRequest:
      type: object
      properties:
        applied_amount:
          type: number
          format: decimal
        notes:
          type: string
    CreateApAgingRequest:
      type: object
      required:
        - vendor_id
        - aging_date
        - currency_code
      properties:
        vendor_id:
          type: string
          format: uuid
        aging_date:
          type: string
          format: date
        currency_code:
          type: string
          minLength: 3
          maxLength: 3
        company_id:
          type: string
          format: uuid
    UpdateApAgingRequest:
      type: object
      properties:
        current:
          type: number
          format: decimal
        days_31_60:
          type: number
          format: decimal
        days_61_90:
          type: number
          format: decimal
        days_91_120:
          type: number
          format: decimal
        over_120:
          type: number
          format: decimal
        total_outstanding:
          type: number
          format: decimal
