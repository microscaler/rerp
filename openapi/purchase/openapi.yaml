openapi: 3.1.0
info:
  title: Purchase API Gateway
  description: 'Purchase order management and vendor relationship management.. This aggregates and proxies requests to Purchase
    microservices. This is the single entry point for the Purchase system.


    All requests are proxied to the appropriate sub-service:

    - `/api/v1/purchase/core/*` → Core Service

    - `/api/v1/purchase/vendor/*` → Vendor Service


    **Note**: This spec is automatically generated from sub-service specs. Do not edit manually - changes will be overwritten
    on next generation.


    **Generation**: This file is completely regenerated (clobbered) each time the generation script runs, ensuring idempotent
    output.


    **Service Discovery**: Sub-services are discovered from openapi/purchase/ directory.'
  version: 1.0.0
servers:
- url: /api/v1/purchase
  description: Purchase API Gateway
tags: []
paths:
  /purchase-orders:
    get:
      operationId: listPurchaseOrders
      summary: List purchase-orders
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of purchase-orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/PurchaseOrder'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: core
      x-service-base-path: /api/v1/purchase/core
    post:
      operationId: createPurchaseOrder
      summary: Create purchase-order
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePurchaseOrderRequest'
      responses:
        '201':
          description: PurchaseOrder created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseOrder'
        '400':
          description: Invalid request
      x-service: core
      x-service-base-path: /api/v1/purchase/core
  /purchase-orders/{id}:
    get:
      operationId: getPurchaseOrder
      summary: Get purchase-order by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: PurchaseOrder details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseOrder'
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/purchase/core
    put:
      operationId: updatePurchaseOrder
      summary: Update purchase-order
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePurchaseOrderRequest'
      responses:
        '200':
          description: PurchaseOrder updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseOrder'
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/purchase/core
    delete:
      operationId: deletePurchaseOrder
      summary: Delete purchase-order
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: PurchaseOrder deleted
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/purchase/core
  /requisitions:
    get:
      operationId: listRequisitions
      summary: List requisitions
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of requisitions
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Requisition'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: core
      x-service-base-path: /api/v1/purchase/core
    post:
      operationId: createRequisition
      summary: Create requisition
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateRequisitionRequest'
      responses:
        '201':
          description: Requisition created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Requisition'
        '400':
          description: Invalid request
      x-service: core
      x-service-base-path: /api/v1/purchase/core
  /requisitions/{id}:
    get:
      operationId: getRequisition
      summary: Get requisition by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Requisition details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Requisition'
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/purchase/core
    put:
      operationId: updateRequisition
      summary: Update requisition
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateRequisitionRequest'
      responses:
        '200':
          description: Requisition updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Requisition'
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/purchase/core
    delete:
      operationId: deleteRequisition
      summary: Delete requisition
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Requisition deleted
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/purchase/core
  /suppliers:
    get:
      operationId: listSuppliers
      summary: List suppliers
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of suppliers
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Supplier'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
    post:
      operationId: createSupplier
      summary: Create supplier
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSupplierRequest'
      responses:
        '201':
          description: Supplier created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Supplier'
        '400':
          description: Invalid request
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
  /suppliers/{id}:
    get:
      operationId: getSupplier
      summary: Get supplier by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Supplier details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Supplier'
        '404':
          description: Not found
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
    put:
      operationId: updateSupplier
      summary: Update supplier
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSupplierRequest'
      responses:
        '200':
          description: Supplier updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Supplier'
        '404':
          description: Not found
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
    delete:
      operationId: deleteSupplier
      summary: Delete supplier
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Supplier deleted
        '404':
          description: Not found
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
  /vendor-ratings:
    get:
      operationId: listVendorRatings
      summary: List vendor-ratings
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of vendor-ratings
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/VendorRating'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
    post:
      operationId: createVendorRating
      summary: Create vendor-rating
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVendorRatingRequest'
      responses:
        '201':
          description: VendorRating created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VendorRating'
        '400':
          description: Invalid request
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
  /vendor-ratings/{id}:
    get:
      operationId: getVendorRating
      summary: Get vendor-rating by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: VendorRating details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VendorRating'
        '404':
          description: Not found
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
    put:
      operationId: updateVendorRating
      summary: Update vendor-rating
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateVendorRatingRequest'
      responses:
        '200':
          description: VendorRating updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VendorRating'
        '404':
          description: Not found
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
    delete:
      operationId: deleteVendorRating
      summary: Delete vendor-rating
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: VendorRating deleted
        '404':
          description: Not found
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
  /vendors:
    get:
      operationId: listVendors
      summary: List vendors
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of vendors
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Vendor'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
    post:
      operationId: createVendor
      summary: Create vendor
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVendorRequest'
      responses:
        '201':
          description: Vendor created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Vendor'
        '400':
          description: Invalid request
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
  /vendors/{id}:
    get:
      operationId: getVendor
      summary: Get vendor by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Vendor details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Vendor'
        '404':
          description: Not found
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
    put:
      operationId: updateVendor
      summary: Update vendor
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateVendorRequest'
      responses:
        '200':
          description: Vendor updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Vendor'
        '404':
          description: Not found
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
    delete:
      operationId: deleteVendor
      summary: Delete vendor
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Vendor deleted
        '404':
          description: Not found
      x-service: vendor
      x-service-base-path: /api/v1/purchase/vendor
components:
  parameters:
    Page:
      name: page
      in: query
      schema:
        type: integer
        minimum: 1
        default: 1
    Limit:
      name: limit
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
    Search:
      name: search
      in: query
      schema:
        type: string
  schemas:
    Error:
      type: object
      required:
      - error
      - message
      properties:
        error:
          type: string
          description: Error code
        message:
          type: string
          description: Human-readable error message
        details:
          type: object
          nullable: true
          description: Additional error details
          additionalProperties: true
