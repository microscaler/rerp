openapi: 3.1.0
info:
  title: Marketing API Gateway
  description: 'Marketing automation, email campaigns, and social media management.. This aggregates and proxies requests
    to Marketing microservices. This is the single entry point for the Marketing system.


    All requests are proxied to the appropriate sub-service:

    - `/api/v1/marketing/automation/*` → Automation Service

    - `/api/v1/marketing/email/*` → Email Service

    - `/api/v1/marketing/social-media/*` → SocialMedia Service


    **Note**: This spec is automatically generated from sub-service specs. Do not edit manually - changes will be overwritten
    on next generation.


    **Generation**: This file is completely regenerated (clobbered) each time the generation script runs, ensuring idempotent
    output.


    **Service Discovery**: Sub-services are discovered from openapi/marketing/ directory.'
  version: 1.0.0
servers:
- url: /api/v1/marketing
  description: Marketing API Gateway
tags: []
paths:
  /actions:
    get:
      operationId: list_actions
      summary: List actions
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of actions
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Action'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
    post:
      operationId: create_action
      summary: Create action
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateActionRequest'
      responses:
        '201':
          description: Action created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Action'
        '400':
          description: Invalid request
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
  /actions/{id}:
    get:
      operationId: get_action
      summary: Get action by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Action details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Action'
        '404':
          description: Not found
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
    put:
      operationId: update_action
      summary: Update action
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateActionRequest'
      responses:
        '200':
          description: Action updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Action'
        '404':
          description: Not found
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
    delete:
      operationId: delete_action
      summary: Delete action
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Action deleted
        '404':
          description: Not found
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
  /automation-workflows:
    get:
      operationId: list_automation_workflows
      summary: List automation-workflows
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of automation-workflows
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/AutomationWorkflow'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
    post:
      operationId: create_automation_workflow
      summary: Create automation-workflow
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAutomationWorkflowRequest'
      responses:
        '201':
          description: AutomationWorkflow created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AutomationWorkflow'
        '400':
          description: Invalid request
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
  /automation-workflows/{id}:
    get:
      operationId: get_automation_workflow
      summary: Get automation-workflow by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: AutomationWorkflow details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AutomationWorkflow'
        '404':
          description: Not found
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
    put:
      operationId: update_automation_workflow
      summary: Update automation-workflow
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAutomationWorkflowRequest'
      responses:
        '200':
          description: AutomationWorkflow updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AutomationWorkflow'
        '404':
          description: Not found
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
    delete:
      operationId: delete_automation_workflow
      summary: Delete automation-workflow
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: AutomationWorkflow deleted
        '404':
          description: Not found
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
  /campaigns:
    get:
      operationId: list_campaigns
      summary: List campaigns
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of campaigns
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Campaign'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: email
      x-service-base-path: /api/v1/marketing/email
    post:
      operationId: create_campaign
      summary: Create campaign
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCampaignRequest'
      responses:
        '201':
          description: Campaign created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Campaign'
        '400':
          description: Invalid request
      x-service: email
      x-service-base-path: /api/v1/marketing/email
  /campaigns/{id}:
    get:
      operationId: get_campaign
      summary: Get campaign by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Campaign details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Campaign'
        '404':
          description: Not found
      x-service: email
      x-service-base-path: /api/v1/marketing/email
    put:
      operationId: update_campaign
      summary: Update campaign
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCampaignRequest'
      responses:
        '200':
          description: Campaign updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Campaign'
        '404':
          description: Not found
      x-service: email
      x-service-base-path: /api/v1/marketing/email
    delete:
      operationId: delete_campaign
      summary: Delete campaign
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Campaign deleted
        '404':
          description: Not found
      x-service: email
      x-service-base-path: /api/v1/marketing/email
  /email-templates:
    get:
      operationId: list_email_templates
      summary: List email-templates
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of email-templates
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/EmailTemplate'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: email
      x-service-base-path: /api/v1/marketing/email
    post:
      operationId: create_email_template
      summary: Create email-template
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateEmailTemplateRequest'
      responses:
        '201':
          description: EmailTemplate created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmailTemplate'
        '400':
          description: Invalid request
      x-service: email
      x-service-base-path: /api/v1/marketing/email
  /email-templates/{id}:
    get:
      operationId: get_email_template
      summary: Get email-template by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: EmailTemplate details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmailTemplate'
        '404':
          description: Not found
      x-service: email
      x-service-base-path: /api/v1/marketing/email
    put:
      operationId: update_email_template
      summary: Update email-template
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateEmailTemplateRequest'
      responses:
        '200':
          description: EmailTemplate updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmailTemplate'
        '404':
          description: Not found
      x-service: email
      x-service-base-path: /api/v1/marketing/email
    delete:
      operationId: delete_email_template
      summary: Delete email-template
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: EmailTemplate deleted
        '404':
          description: Not found
      x-service: email
      x-service-base-path: /api/v1/marketing/email
  /engagements:
    get:
      operationId: list_engagements
      summary: List engagements
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of engagements
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Engagement'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
    post:
      operationId: create_engagement
      summary: Create engagement
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateEngagementRequest'
      responses:
        '201':
          description: Engagement created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Engagement'
        '400':
          description: Invalid request
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
  /engagements/{id}:
    get:
      operationId: get_engagement
      summary: Get engagement by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Engagement details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Engagement'
        '404':
          description: Not found
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
    put:
      operationId: update_engagement
      summary: Update engagement
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateEngagementRequest'
      responses:
        '200':
          description: Engagement updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Engagement'
        '404':
          description: Not found
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
    delete:
      operationId: delete_engagement
      summary: Delete engagement
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Engagement deleted
        '404':
          description: Not found
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
  /mailing-lists:
    get:
      operationId: list_mailing_lists
      summary: List mailing-lists
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of mailing-lists
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/MailingList'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: email
      x-service-base-path: /api/v1/marketing/email
    post:
      operationId: create_mailing_list
      summary: Create mailing-list
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMailingListRequest'
      responses:
        '201':
          description: MailingList created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MailingList'
        '400':
          description: Invalid request
      x-service: email
      x-service-base-path: /api/v1/marketing/email
  /mailing-lists/{id}:
    get:
      operationId: get_mailing_list
      summary: Get mailing-list by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: MailingList details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MailingList'
        '404':
          description: Not found
      x-service: email
      x-service-base-path: /api/v1/marketing/email
    put:
      operationId: update_mailing_list
      summary: Update mailing-list
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMailingListRequest'
      responses:
        '200':
          description: MailingList updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MailingList'
        '404':
          description: Not found
      x-service: email
      x-service-base-path: /api/v1/marketing/email
    delete:
      operationId: delete_mailing_list
      summary: Delete mailing-list
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: MailingList deleted
        '404':
          description: Not found
      x-service: email
      x-service-base-path: /api/v1/marketing/email
  /social-accounts:
    get:
      operationId: list_social_accounts
      summary: List social-accounts
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of social-accounts
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/SocialAccount'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
    post:
      operationId: create_social_account
      summary: Create social-account
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSocialAccountRequest'
      responses:
        '201':
          description: SocialAccount created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SocialAccount'
        '400':
          description: Invalid request
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
  /social-accounts/{id}:
    get:
      operationId: get_social_account
      summary: Get social-account by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: SocialAccount details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SocialAccount'
        '404':
          description: Not found
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
    put:
      operationId: update_social_account
      summary: Update social-account
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSocialAccountRequest'
      responses:
        '200':
          description: SocialAccount updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SocialAccount'
        '404':
          description: Not found
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
    delete:
      operationId: delete_social_account
      summary: Delete social-account
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: SocialAccount deleted
        '404':
          description: Not found
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
  /social-posts:
    get:
      operationId: list_social_posts
      summary: List social-posts
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of social-posts
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/SocialPost'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
    post:
      operationId: create_social_post
      summary: Create social-post
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSocialPostRequest'
      responses:
        '201':
          description: SocialPost created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SocialPost'
        '400':
          description: Invalid request
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
  /social-posts/{id}:
    get:
      operationId: get_social_post
      summary: Get social-post by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: SocialPost details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SocialPost'
        '404':
          description: Not found
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
    put:
      operationId: update_social_post
      summary: Update social-post
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSocialPostRequest'
      responses:
        '200':
          description: SocialPost updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SocialPost'
        '404':
          description: Not found
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
    delete:
      operationId: delete_social_post
      summary: Delete social-post
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: SocialPost deleted
        '404':
          description: Not found
      x-service: social-media
      x-service-base-path: /api/v1/marketing/social-media
  /triggers:
    get:
      operationId: list_triggers
      summary: List triggers
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of triggers
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Trigger'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
    post:
      operationId: create_trigger
      summary: Create trigger
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTriggerRequest'
      responses:
        '201':
          description: Trigger created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Trigger'
        '400':
          description: Invalid request
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
  /triggers/{id}:
    get:
      operationId: get_trigger
      summary: Get trigger by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Trigger details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Trigger'
        '404':
          description: Not found
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
    put:
      operationId: update_trigger
      summary: Update trigger
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTriggerRequest'
      responses:
        '200':
          description: Trigger updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Trigger'
        '404':
          description: Not found
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
    delete:
      operationId: delete_trigger
      summary: Delete trigger
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Trigger deleted
        '404':
          description: Not found
      x-service: automation
      x-service-base-path: /api/v1/marketing/automation
components:
  parameters:
    Page:
      name: page
      in: query
      schema:
        type: integer
        minimum: 1
        default: 1
    Limit:
      name: limit
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
    Search:
      name: search
      in: query
      schema:
        type: string
  schemas:
    Error:
      type: object
      required:
      - error
      - message
      properties:
        error:
          type: string
          description: Error code
        message:
          type: string
          description: Human-readable error message
        details:
          type: object
          nullable: true
          description: Additional error details
          additionalProperties: true
