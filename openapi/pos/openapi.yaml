openapi: 3.1.0
info:
  title: Pos API Gateway
  description: 'Point of sale and payment gateway services.. This aggregates and proxies requests to Pos microservices. This
    is the single entry point for the Pos system.


    All requests are proxied to the appropriate sub-service:

    - `/api/v1/pos/core/*` → Core Service

    - `/api/v1/pos/payment-gateway/*` → PaymentGateway Service


    **Note**: This spec is automatically generated from sub-service specs. Do not edit manually - changes will be overwritten
    on next generation.


    **Generation**: This file is completely regenerated (clobbered) each time the generation script runs, ensuring idempotent
    output.


    **Service Discovery**: Sub-services are discovered from openapi/pos/ directory.'
  version: 1.0.0
servers:
- url: /api/v1/pos
  description: Pos API Gateway
tags: []
paths:
  /payment-methods:
    get:
      operationId: list_payment_methods
      summary: List payment-methods
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of payment-methods
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/PaymentMethod'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
    post:
      operationId: create_payment_method
      summary: Create payment-method
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePaymentMethodRequest'
      responses:
        '201':
          description: PaymentMethod created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentMethod'
        '400':
          description: Invalid request
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
  /payment-methods/{id}:
    get:
      operationId: get_payment_method
      summary: Get payment-method by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: PaymentMethod details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentMethod'
        '404':
          description: Not found
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
    put:
      operationId: update_payment_method
      summary: Update payment-method
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePaymentMethodRequest'
      responses:
        '200':
          description: PaymentMethod updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentMethod'
        '404':
          description: Not found
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
    delete:
      operationId: delete_payment_method
      summary: Delete payment-method
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: PaymentMethod deleted
        '404':
          description: Not found
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
  /payments:
    get:
      operationId: list_payments
      summary: List payments
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of payments
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Payment'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
    post:
      operationId: create_payment
      summary: Create payment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePaymentRequest'
      responses:
        '201':
          description: Payment created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment'
        '400':
          description: Invalid request
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
  /payments/{id}:
    get:
      operationId: get_payment
      summary: Get payment by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Payment details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment'
        '404':
          description: Not found
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
    put:
      operationId: update_payment
      summary: Update payment
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePaymentRequest'
      responses:
        '200':
          description: Payment updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment'
        '404':
          description: Not found
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
    delete:
      operationId: delete_payment
      summary: Delete payment
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Payment deleted
        '404':
          description: Not found
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
  /pos-orders:
    get:
      operationId: list_pos_orders
      summary: List pos-orders
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of pos-orders
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/PosOrder'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: core
      x-service-base-path: /api/v1/pos/core
    post:
      operationId: create_pos_order
      summary: Create pos-order
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePosOrderRequest'
      responses:
        '201':
          description: PosOrder created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PosOrder'
        '400':
          description: Invalid request
      x-service: core
      x-service-base-path: /api/v1/pos/core
  /pos-orders/{id}:
    get:
      operationId: get_pos_order
      summary: Get pos-order by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: PosOrder details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PosOrder'
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/pos/core
    put:
      operationId: update_pos_order
      summary: Update pos-order
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePosOrderRequest'
      responses:
        '200':
          description: PosOrder updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PosOrder'
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/pos/core
    delete:
      operationId: delete_pos_order
      summary: Delete pos-order
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: PosOrder deleted
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/pos/core
  /pos-sessions:
    get:
      operationId: list_pos_sessions
      summary: List pos-sessions
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of pos-sessions
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/PosSession'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: core
      x-service-base-path: /api/v1/pos/core
    post:
      operationId: create_pos_session
      summary: Create pos-session
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePosSessionRequest'
      responses:
        '201':
          description: PosSession created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PosSession'
        '400':
          description: Invalid request
      x-service: core
      x-service-base-path: /api/v1/pos/core
  /pos-sessions/{id}:
    get:
      operationId: get_pos_session
      summary: Get pos-session by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: PosSession details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PosSession'
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/pos/core
    put:
      operationId: update_pos_session
      summary: Update pos-session
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePosSessionRequest'
      responses:
        '200':
          description: PosSession updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PosSession'
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/pos/core
    delete:
      operationId: delete_pos_session
      summary: Delete pos-session
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: PosSession deleted
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/pos/core
  /receipts:
    get:
      operationId: list_receipts
      summary: List receipts
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of receipts
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Receipt'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: core
      x-service-base-path: /api/v1/pos/core
    post:
      operationId: create_receipt
      summary: Create receipt
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateReceiptRequest'
      responses:
        '201':
          description: Receipt created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Receipt'
        '400':
          description: Invalid request
      x-service: core
      x-service-base-path: /api/v1/pos/core
  /receipts/{id}:
    get:
      operationId: get_receipt
      summary: Get receipt by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Receipt details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Receipt'
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/pos/core
    put:
      operationId: update_receipt
      summary: Update receipt
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateReceiptRequest'
      responses:
        '200':
          description: Receipt updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Receipt'
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/pos/core
    delete:
      operationId: delete_receipt
      summary: Delete receipt
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Receipt deleted
        '404':
          description: Not found
      x-service: core
      x-service-base-path: /api/v1/pos/core
  /transactions:
    get:
      operationId: list_transactions
      summary: List transactions
      parameters:
      - $ref: '#/components/parameters/Page'
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Search'
      responses:
        '200':
          description: List of transactions
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Transaction'
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
    post:
      operationId: create_transaction
      summary: Create transaction
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTransactionRequest'
      responses:
        '201':
          description: Transaction created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transaction'
        '400':
          description: Invalid request
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
  /transactions/{id}:
    get:
      operationId: get_transaction
      summary: Get transaction by id
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Transaction details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transaction'
        '404':
          description: Not found
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
    put:
      operationId: update_transaction
      summary: Update transaction
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTransactionRequest'
      responses:
        '200':
          description: Transaction updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transaction'
        '404':
          description: Not found
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
    delete:
      operationId: delete_transaction
      summary: Delete transaction
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Transaction deleted
        '404':
          description: Not found
      x-service: payment-gateway
      x-service-base-path: /api/v1/pos/payment-gateway
components:
  parameters:
    Page:
      name: page
      in: query
      schema:
        type: integer
        minimum: 1
        default: 1
    Limit:
      name: limit
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
    Search:
      name: search
      in: query
      schema:
        type: string
  schemas:
    Error:
      type: object
      required:
      - error
      - message
      properties:
        error:
          type: string
          description: Error code
        message:
          type: string
          description: Human-readable error message
        details:
          type: object
          nullable: true
          description: Additional error details
          additionalProperties: true
